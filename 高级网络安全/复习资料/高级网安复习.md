🌟欢迎参与进来合力整理，第一版最好按照**章节顺序**来进行

>简答题 不挂科 不能交白卷 都是概念题如：网络安全体系是什么 cia模型是什么，网络安全模型，防火墙类型，nat原理，网络身份认证，对称非对称密钥，ipsec工作模式，怎么部署ipsec，物联网案例威胁解决方案建议类似.........每讲都有一道题，十道题左右。

# 第一章 网络安全体系结构

## 1、网络安全技术内涵

### 什么是网络安全：

网件及其系统中的数据受到保护，不因偶然的或者恶意的原因而遭受到 破坏、更改、泄露，系统连续可靠 正常地运行，网络服务不中断

### 什么是安全

* 正确性

用户提供预期的输入，系统产生期望的输出

Good input =》Good output

系统复杂=》更多功能

* 安全性

攻击者提供意外输入，系统不会因此故障

Bad input =》Bad output

系统复杂=》更加脆弱

### CIA模型

**1.机密性 Confidentiality**

确保数据只被授权的主体访问，不被任何未授权的主体访问。即是“不可见”。

**2.完整性 Integrity**

完整性就是确保数据只被授权的主体进行授权的修改，简单来说，就是“不可改”。

**3.可用性 Availability**

可用性就是确保数据能够被授权的主体访问到， 简单来说，就是“可读”。

### CIA+AA模型

**真实性 Authenticity**

保证信息真实可信，发布者不被冒充、来源不被伪造

**不可抵赖性 Accountability**

对出现的安全问题提供调查的依据和手段 。使得攻击者 、破坏者、抵赖者无法逃避责任，并进一步 对网络出现的安全问题提供调查依据和手段。

### 网络信息安全威胁

物理环境威胁：环境变化带来的危害比如自然灾害、电磁辐射；设备状态的变化比如故障、遗失

系统设计缺陷：时代背景导致、技术基础导致：理念技术局限性、软硬件的限制

实现技术漏洞：算法、程序设计的漏洞，第三方库、运行环境的漏洞

开放网络环境：用户身份难以识别、用户行为多种多样、用户接口丰富多样、用户资源良莠不齐

人员因素：无意识行为：错误配置系统、升级软件、连接网络；有意识行为：黑客攻击、路由劫持、域名欺骗；

重点

**网络安全技术内涵**

**网络安全基本目标**

保持信息系统资源（包括硬件，软件，固件，信息/数据和电信）的完整性，可用性和机密性。安全目标-CIA模型&CIAAA模型

机密性（ confidentiality ）➢完整性（ integrity ）可用性（ availability ）

真实性（ Authenticity ）➢不可抵赖性（Accountability）

**网络安全体系结构：**

安全体系结构是一种统一的安全设计，解决特定场景或环境中涉及的必要性和潜在风险。它还指定何时和何处应用安全控件。设计过程通常是可重复的。安全体系结构是产品总体体系结构的一个组成部分，开发它是为了在产品设计期间提供指导。网络安全体系结构是定义网络安全的基础

**网络安全模型实例**

**网络安全分析方法**

## 2、网络安全体系结构

### 网络安全防护体系层次（设计目标）

* 实体安全
* 网络安全
* 系统安全
* 应用安全
* 管理安全
### 设计原则

* 系统性原则
* 一致性原则
* 脆弱性原则
* 等级性原则
* 平衡性原则
## 

### ISO7498-2安全体系结构

* 信息处理系统.开放系统互连.基本参考模型.第2部分:安全结构
* 5种安全服务：鉴别服务、访问控制、数据完整性、数据保密性、抗抵赖性；
* 8类安全机制：加密机制，数据签名机制，访问控制机制，数据完整性机制，认证交换，业务填充机制，路由控制机制和公证机制；
### 网络安全体系结构实例化

* 应用层
* 传输层
* 网络层
* 链路层

## 3、网络安全防护模型

### 网络安全技术

防火墙技术、身份认证技术、密码技术、防病毒技术、入侵检测技术、漏洞扫描技术、安全审计技术

### PPDR模型

* Policy 安 全 策 略
* Protection( 保 护 )
* Detection( 检 测 ) 、
* Response(响应)
### PDRR模型

* 防护(Protection)
* 检测(Detection)
* 恢复(Recovery)
* 响应(Response)
>PDRR改进了传统只注重防护的单一安全防御思想，强调信息安全保障的PDRR四个重要环节。
### IATF框架

Information Assurance Technical Framework

IATF信息保障的**核心思想是纵深防御战略**，该战略为信息保障体系提供了**全方位、多层次**的指导思想，通过采用多层次、在各个技术框架区域中实施保障机制，以最大限度降低风险、防止攻击，保障用户信息及其信息系统的安全。

信息系统划分成了四个域：**局域计算环境、区域边界、网络和基础设施、支撑性基础设施**

### 黄金标准框架

强调网络空间安全四大总体性功能：**治理(Govern)、保护(Protect)、检测(Detect)和响应与恢复(Respond & Recover)**

### 方滨兴院士提出的 “APPDRRUT”模型

* A-安全分析：风险评估、漏洞扫描、系统脆弱性分析；
* P-安全策略：保护策略制定、保护等级、。。。；
* P-防护：主动防护、被动防护、防病毒，防恶意代码，防垃圾邮件等防护措施；
* D-检测：入侵检测、恶意行为分析、。。。；
* R-响应：反击、追踪、取证、躲避、。。。；
* R-恢复：业务恢复、数据恢复、系统恢复、。。。；
* U-UTM：统一威胁管理，安全防护技术的集成平台；
* T-可信计算、理论基础；
## 4、网络安全设计方法

![图片](https://uploader.shimo.im/f/oWNm5ctOybeYn1n6.png!thumbnail?fileGuid=dQP9Rv3Q33XRrKD9)

剩下的不想整理了 什么乱七八糟的 第一章就先到i这结束吧...

5. **网络安全分析方法**

**现有系统设计过程的弊端 ：**

基于合规性假设，缺乏灵活、可扩展的形式化威胁分析模型，缺乏架构设计/工程实践、运营/分析之间的

**威胁驱动设计方法 ：**

**威胁分析方法- IDDIL/ATC：**

Identify Assets：1）重要的数据、组件及功能；2）引发攻击兴趣 的数据、组件及功能

Define the Attack Surface：潜在攻击范围和目标；

Decompose the System：将应用/系统分解为层次化视图。涵盖设 备、接口、库、协议、函数、API等;

Identify Attack Vectors：攻击途径、攻击方法；攻击树

List Threat Actors：列出威胁源和攻击

Analysis & Assessment：明确最有可能出现的攻击及攻击成功后产 生的影响

Triage：按照威胁程度进行分类；

Controls：检测、保护、管理及响应

**威胁建模方法：**

STRIDE-LM分类模型

伪装，篡改，抵赖，信息泄露，拒绝服务，提升权限

**威胁评级- DREAD模型：**

![图片](https://uploader.shimo.im/f/UeXJdXBQhCSnbBRL.png!thumbnail?fileGuid=dQP9Rv3Q33XRrKD9)

其中高是3分，中2分，低1分，总分就是威胁评估得分，如木马是8分

# 第二讲 网络边界防护-防火墙

## 1、防火墙的基本原理

### 防火墙的必要性

* 外网安全需求：网络存在的各种危险；防止外部网络的危险传播到内部网络
* 内网安全需求：防止非法访问；内部结构暴露在外部；P2P影响；游戏等影响工作效率
### 防火墙的定义

防火墙（英语：Firewall）在电脑科学领域中是一个架设在网际网路与企业内网之间的资安系统，根据企业预定的策略来监控往来的传输。防火墙可能是一台专属的网路设备或是执行于主机上来检查各个网路介面上的网路传输。两个网络域之间的唯一通道。

**TCP/IP沙漏模型**

### 防火墙分类

按照以下几种划分

* 物理形态
    * 软件防火墙：IPTables
    * 硬件防火墙：思科、深信服...
* 处理性能
    * 百兆/千/万
* 体系结构
    * 单一主机防火墙
    * 路由集成防火墙
    * 分布式防火墙
* 部署位置
    * 终端
    * 网络
### 区域划分

信任区、非信任区、停火区(DMZ)

>详细讲解在PPT第二讲P18-21

demilitarized zone

停火区(DMZ)具体含义是“内外网防火墙之间的区域”。DMZ区是一个缓冲区，在DMZ区存放着一些公共服务器，内网可以单向访问DMZ区、外网也可以单向访问DMZ区。

**2、防火墙技术实现****、工作机理**

* **包过滤技术**
    * 通过报文源IP地址、目的IP地址、源端口、目的端口、上层协议等信息组合定义网络中的数据流，从而针对不同的数据流制定不同的规则

优点：只对分组的IP地址、 TCP/UDP协议和端口进行分析，处理速度快、易于配置

缺点：难以抵御欺骗类攻击，逐包策略检查导致性能急剧下降，无法抵御应用层攻击

* **应用代理技术**
    * 防火墙能够识别应用协议，先还原应用协议的内容，经过检查后，再重新封装、转发；
    * 为每一种应用开发都需要一个对应的代理服务

优点：可以感知和检查应用层行为；安全控制粒度更细；可以针对每条应用流进行分析

缺点：处理性能低，与应用协议高度相关，对用户不透明

* **状态检测****+++**
    * 记录并维护网络协议的上下文
    * 对于所有连接，根据连接状态信息动态地决定数据包是否被允许通过防火墙或丢弃
    * 包过滤是无状态检测技术，只能根据单个报文进行访问控制，而状态检测记录的**整个流的生命过程**，可以实施更为丰富的访问控制策略（例如：流量、时间等等）

优点：兼顾安全与性能；基于会话状态实现访问控制，提高了网络攻击的难度；可以基于流制定访问控制策略

缺点：安全性不如代理防火墙；无法克服应用协议的多样性；

### 防火墙工作模式

* 路由模式

防火墙接口配置IP地址，外网、DMZ区、内网都不在同一网段，防火墙做路由方式。这时，防火墙相当于一个路由器

* 透明模式（桥接模式）

防火墙接口无IP地址，桥接模式，外网、DMZ、内网在同一个网段，此时防火墙为透明模式。

* 混合模式

某些接口具有IP地址，某些接口无IP地址，防火墙工作于透明+路由模式，称之为综合模式或者混合模式

### NAT工作原理

**Network Address Translation****(**网络地址转换**)**

NAT的基本工作原理是，当私有网主机和公共网主机通信的IP包经过NAT网关时，将IP包中的源IP或目的IP在私有IP和NAT的公共IP之间进行转换。

### NAT的优缺点

**优点**

* 为家庭或小型商业机构提供廉价接入Internet的方案；
* 缓解目前全球IP地址不足的问题.
* 隐藏内部网络,保证内部网络的安全性

**缺点**

* 增加延迟（查表、地址替换）；
* 无法进行端到端IP跟踪；
* NAT会使某些使用内嵌地址的应用不能正常工作（FTP、SIP）
## 3、下一代防火墙的防护能力

下一代防火墙特性更侧重于**智能化、可视化、虚拟化、协同****化**

身份感知、应用识别、情景识别、加密数据识别

识别所有经过的流量

随时随地提供全方位威胁防御

自如的细粒度的访问控制策略

确保多设备用户能从任何地方进行安全访问

防火墙技术的永恒话题：在**性能、成本和安全**三者之间寻找平衡

**目前困境：**

•防外不防内（内网用户和内外串通）；

•不能防备全部的威胁，特别是新产生的威胁；

•在提供深度检测功能以及防火墙处理转发性能上需要平衡；

•当使用端-端加密时，即有加密隧道穿越防火墙时不能处理；

•防火墙本身可能会存在性能瓶颈，如抗攻击能力，会话数限制等。

防火墙的基本原理（TCP/IP沙漏模型）；

防火墙区域划分（信任区、非信任区、停火区）；

防火墙实现技术（包过滤、应用代理、状态检测）；

NAT的工作原理；

防火墙工作模式（路由模式、透明模式、混合模式）

下一代防火墙的防护能力


# 第三讲  网络安全防护-身份认证

## 1、身份认证概念

验证主体真实身份与其所声称身份是否相符的过程

## 2、身份认证的作用

执行网络安全策略的前提                                  抵御网络攻击的关键环节

## 3、身份认证的基本模型

* 请求方（Applicant）；验证者（Authenticator）；认证信息（Authentication Information）；可信第三方(Trusted-Third Party)

![图片](https://uploader.shimo.im/f/0ExxhGIh6He1X3q4.png!thumbnail?fileGuid=dQP9Rv3Q33XRrKD9)

## 4、一些认证过程

* 基于口令认证

物理载体，口令、智能卡、指纹、掌纹、虹膜

One-Time Passwords，口令序列、询问应答认证、时间同步

生物信息认证

基于信息预共享

* 基于协议认证

抗窃听，口令不明码传输

抵抗主动的威胁，如阻断、伪造、重放

双向认证

域名欺骗、地址假冒等

路由控制

单点登录

用户只需要一次认证操作就可以访问多种服务

询问-应答式协议

简单，适合在单机上使用，但在网络上易被重放攻击，不安全

对称加密认证

使用随机数避免重放攻击，需要可信第三方

基于非对称密钥

加密与解密由不同的密钥完成

已知加密算法，通过加密密钥计算解密密钥在计算上是不可行的

两个密钥中任何一个都可以作为加密而另一个用作解密

优点：加密能力与解密能力是分开的。可满足不相识的人之间保密通信，适合网络应用。密钥分发简单；。需要保存的密钥量大大减少，N个用户只需要N个；。可以实现用户身份的确认

缺点：速度较慢

网络接入认证协议-802.1x，通过认证，LAN局域网交换机就可以通过或者屏蔽用户发送过来的信息。无线LAN接入点也基本上采用这一工作原理。

可扩展身份认证协议EAP，（Extensible Authentication Protocol）是一个可以集成多种认证协议的框架，也是IEEE 802.1x认证机制的核心。EAP可以提供不同的方法分别支持PPP，以太网、无线局域网的链路验证。

**发展趋势**

基于信息共享的身份验证技术遭遇发展瓶颈

传统的信任假设发生了变化（服务提供方并不可信）；

美征信巨头Equifax因大规模数据泄露被罚7亿美元；

能够提供隐私保护的身份认证方式更受青睐

《通用数据保护条例》 -GDPR；

保护隐私的身份验证需求上升，例如：不看身份证就能够通过安检？

多因素、多通道、边缘计算等技术迅速发展

采用多种认证机制相结合的方式来认证用户身份

生物特征标识、标识即身份、区块链存储；

IoT去中心化认证模式；

# 第四讲  网络安全通信-虚拟专网

## 1、虚拟专网概念

VPN（Virtual Private Network）,运用安全技术在公用网络上建立私有的安全数据通道，通过加密和认证技术来确保数据在公用网络上的传输安全。

## 2、虚拟专网技术原理

隧道技术：为在公网上传输私有数据而发展出的“信息封装”方式。利用一种协议来传输另一种协议的技术；通过隧道使得报文能够沿规定的路径进行传输。

VPN组成：VPN网关（位于网络边缘，提供IP隧道封装、身份认证、访问控制。可集成到服务器或防火墙。）；VPN客户端（VPN服务访问软件、与网关建立安全隧道）。

## 3、虚拟专网二层实现技术

PPP：是为了在点对点物理链路(例如RS232串口链路、电话ISDN线路等)上传输网络分组报文而设计的，是目前广域网上应用最广泛的二层协议；

PPTP：Point-to-Point Tunneling Protocol（点对点隧道协议）是PPP协议的一种扩展，将PPP帧封装进IP包中，通过IP网络进行传输。使用PPTP控制连接，使用GRE对PPP帧封装。

L2F：Layer 2 Forwaring Protocol（二层转发协议）由思科公司开发建立隧道连接的协议。L2F协议本身不提供加密。L2F允许在其中封装PPP/SLIP包。

L2TP：Layer Two Tunneling Protocol也是一种隧道协议，L2TP使用多隧道，提供包头压缩、隧道验证。L2TP自身不提供加密与可靠性验证功能，所以通常和IPsec搭配使用。

## 4、虚拟专网三层实现技术

GRE：Generic Routing Encapsulation（通用路由封装）可以对网络层协议数据报进行封装，使其可以在IPv4网络上传输。

IPsec：IP Security是IETF为保证在Internet上传输数据的安全保密性而制定的框架协议，是IPv6的重要组成部分；应用在网络层，保护和认证IP数据包：提供信息的机密性、数据的完整性、用户的验证和防重放保护；

隧道模式：对整个IP报文进行封装和加密，隐藏源和目的IP地址。

传输模式：只对IP报文数据载荷进行封装和加密，IP源和目的IP地址不加密；

IPsec组成：

AH(Authentication Header)协议：认证头标，提供数据源身份认证、数据完整性保护、重放攻击保护功能；

ESP(Encapsulation Security Payload)协议：封装安全载荷，提供保密、数据源身份认证、数据完整、重放攻击保护功能。

IKE（Internet Key Exchange）协议：网络密钥交换协议，以受保护的方式动态协商SA，用于交换和在管理VPN中使用的加密密钥。

IKE组成：安全关联（SA）、安全关联数据库（SAD）、安全参数索引（SPI）。

IKE两个阶段：第一阶段建立IKE本身使用的安全通道，第二阶段利用第一阶段的通道交换IPsec通信中使用的SA。

第一阶段两个模式：主模式，野蛮模式。第二阶段一个模式：快速模式。

## 5、虚拟专网典型应用

VPN连接分支机构；=======VPN连接远程用户；======VPN连接业务伙伴；

虚拟专网的技术原理

IPSec的实际部署方案；

IPSEC配置的数据结构，定义需要保护的报文流，定义访问控制列表，定义IPSec类型，定义MapEntry，绑定接口，匹配IPSec协议，匹配IKE协议，配置有效期




# 第五讲  网络基础设施安全-路由安全

## 1、域间路由系统

互联网被划分为多个自治系统，自治系统一般指隶属于一个管理机构的路由器集合（比如大学，企业等），每个自治系统会设置边界路由器通过域间路由协议交换路由信息。目前互联网采用的域间路由协议是BGP-4。域间路由系统是保持互联网联通性的重要基础设施。

BGP：Border Gateway Protocol（边界网关协议）是运行在TCP上用于在自治系统之间动态交换路由信息的协议。

动态路由协议：路由信息由路由器交换信息产生，当网络拓扑发生改变时动态路由可以自动更新路由表。如：域内的OSPF和RIP，域间的BGP都是动态路由。

静态路由协议：路由表手动配置，网络状况发生改变不影响路由选择，适应性差。

## 2、域间路由信息安全

BGP（互联网域间路由协议）面临的问题：

安全威胁：潜在的破坏性攻击（通信链路、协议会话等）、BGP消息没有认证机制（虚假邻居关系、虚假路由信息）；

行为威胁：ISP违规行为（违背路由策略、错误配置等）；恶意攻击；

典型路由安全问题：

人工错误导致路由泄漏；利用路由协议发布虚假信息破坏网络连通性；违背约定改变网络流量路径（监听流量、修改流量、丢弃流量）。

**路由劫持**：控制路由器并修改路由器配置，发布虚假路由信息，对经过路由器的流量做出恶意行为。

## 3、路由协议会话安全

BGP协议是建立在TCP连接之上的，因此也面临一些TCP连接的安全问题：

TCP连接欺骗：通过修改网络节点的IP地址达到欺骗的目的。

**BGP会话攻击：**

TCP复位：发送ICMP消息复位TCP连接。

BGP会话劫持：收集BGP会话信息，伪造BGP身份发送虚假信息。

SYN洪水：SYN拒绝服务，利用TCP三次握手协议缺陷，向目标发送大量SYN请求。

bgp劫持是指攻击者恶意改变互联网流量的路由。攻击者通过错误地宣布他们实际上并不拥有、控制或路由的IP地址组(称为IP前缀)的所有权来实现这一点

## 4、域间路由安全防御

IRR：（The Internet Routing Registry全球范围的地址前缀登记数据库）为验证BGP路由宣告消息的真实性提供支撑。

RPKI：“Resource Public Key Infrastructure互联网码号资源公钥基础设施”，是一项旨在使互联网路由基础设施更安全的公开密钥基础建设框架。将IP分配的层次关系与数字证书结合，逐级认证。在AS和IP前缀之间建立可验证的映射关系。

S-BGP：BGP Secure在BGP的基础上提供安全机制，以解决当前BGP在运作过程中遇到的安全威胁。

S-BGP的安全机制：

管理机制：宣告对IP地址前缀拥有权；采取外带方式签名和分发；通过ICANN委托链检查。

数字签名技术：作为BGP update消息的属性，随路由一起发送；逐跳签名、验证；签名链。

路径完整性：AS path记录了路由信息的传播路径；不能任意添加或删除中间AS；

S-BGP面临的挑战：地址前缀的注册信息是否精确完整；PKI部署问题；加解密算法开销问题；可渐进部署；激励性；

## 5、总结

域间路由系统的脆弱性：BGP协议不支持CIA模型；单个AS难以判断路由真实性；

域间路由系统的复杂性：47610 ASes；无控制中心（缺乏全局视图）；AS之间的竞争（策略复杂）；改造成本巨大；

安全防御方案的可行性：PKI的局限性；

域间路由系统的脆弱性

* BGP协议不支持CIA模型；
* 单个AS难以判断路由的真假；

前缀劫持的基本原理；

安全防御方案的可行性

* PKI的局限性；

Public Key Infrastructure (PKI) 公开密钥基础设施

# 
# 第六讲 物联网安全

>【注】本讲阅读应注意以下几点：
>**1.  引用中的内容（即格式为此条样式的）仅为辅助理解，应该不是考试重点；**
>**2. 红色粗体字为课程总结中出现的关键字。**
## 1、物联网发展概述

>物联网：物联网是一个基于互联网、传统电信网等的信息承载体，它让所有能够被独立寻址的普通物理对象形成互联互通的网络。
>>物联网体系结构：
>应用层：对海量数据进行分析处理，对物体实施智能化的控制；
>网络层：也称传输层。通过各种网络通信技术提供数据传输服务；
>感知层：利用RFID、传感器等随时随地获取目标对象的信息；

物联网（The Internet of Things，简称IOT）

物联网在不同阶段的**特点**：

* 1990-2000:**数字化**
* 2000-2010:**智能化**
* 2010-Future:**自动化**
* Future:**普适化**
## 2、物联网安全威胁

|**名称**|**构成**|**特点**|**安全威胁**|**安全机制**|**技术挑战**|
|:----|:----|:----|:----|:----|:----|:----|:----|:----|:----|:----|
|    <br><br><br><br><br><br>**感知层**|    <br><br><br><br><br>RFID、智能卡、传感器、摄像头、嵌入式设备……|    <br><ul><li>生产成本低，计算、存储、通信能力受限（传感器）；</li><li>资深通过短距离通信技术组网，通过网关节点（sink或Gateway）接入互联网；</li>|    <br><ul><li>末端节点被破坏、屏蔽、控制、替换；</li><li>数据保密性、完整性、可用性、真实性；</li></ul>|密钥管理：密钥存储与访问；<br>身份鉴别：节点、用户、消息的鉴别；<br>安全路由：网络遭受攻击时，仍然能够发现正确的路由；<br>访问控制：防止未授权的用户访问感知层的节点和数据；<br>数据安全：机密性、完整性、可靠性；<br>容错容侵：恶意节点/行为识别、网络故障容忍；|在物联网世界中，大小和功率是一切。为了不受干扰地感知我们周围的世界，计算机必须很小，而且它们必须以极低的功率运行以匹配它们的大小。(PPT没有，请自行发挥）|
|    <br><br><br><br><br><br><br>**网络层**|<ul><li>互联网、蜂窝网络、专用数据网、近场通信网络；</li><li>通信协议：CAN、WiFi、蓝牙、LTE-Advanced、RFID、近场通信（NFC）和远程通信（LoRA、NB-IOT）、…；</li>|<ul><li>通信技术在通信距离和通信带宽上存在差异；</li></ul><ul><li>RFID的有效通信距离为10厘米至200米、WiFi通信距离约为100米、LTE-A基于长距离通信，可支持移动电话之间的高速数据传输；</li></ul><ul><li>无线传输为主，易受干扰和监听；</li>|垃圾数据.<br>垃圾数据传播（垃圾邮件、病毒等）<br>假冒攻击、中间人攻击等<br>DDOS攻击<br>跨异构网络的攻击（互联网、移动网等互联情况下）<br>|<ul><li>互联网网络安全技术</li></ul><ul><li>IoT网络通信协议安全；</li>|协议的多样性导致保护范围过大、恶意行为难以识别|
|**应用层**|<ul><li>应用APP；</li></ul><ul><li>中间件、基础服务；</li></ul><ul><li>云平台；</li>|<ul><li>以软件服务为主；</li></ul><ul><li>依赖基础平台的安全防护能力；</li></ul><ul><li>多样性导致监管难度较大；</li></ul>|<ul><li>用户身份；</li></ul><ul><li>应用行为；</li></ul><ul><li>信息安全；</li></ul><ul><li>DoS/DDoS/APT攻击；</li></ul>|<ul><li>服务安全：服务来源、服务行为、服务审计；</li></ul><ul><li>中间件/云平台安全：系统自身安全（漏洞、升级、…）；</li></ul><ul><li>数据安全：数据存储、访问、传输；</li></ul>|APP与设备之间缺乏绑定关系导致越权操作（实体钥匙与门锁？）<br>|

![图片](https://uploader.shimo.im/f/tUGmCP29W9IIbjED.png!thumbnail?fileGuid=dQP9Rv3Q33XRrKD9)

## 3、物联网安全问题特征

* **泛在性****：**普遍存在、多领域、多时空
* **轻量级****：**计算资源受限、快速、灵活
* **非对称****：**网络边缘的感知节点的能力较弱，但其数量庞大，而网络中心的信息处理系统的计算处理能力非常强
* **复杂性****：**多元异构、数量规模、应用需求、覆盖范围、技术标准；
## 4、物联网安全体系案例

* **智慧家庭、多安全等级网络；**
* **可信终端；**
>物联网安全技术体系：

![图片](https://uploader.shimo.im/f/NM2EaAaClKCwzGIa.png!thumbnail?fileGuid=dQP9Rv3Q33XRrKD9)

>就是举了几个应用场景、可能不考吧
>可信物联网终端-TrustZone架构
## 5、RFID系统安全

* **终端防护；**
* **终端认证；**
>系统组成：
>- 电子标签：天线、AC/DC电路、调制/解调电路、逻辑控制电路、内存；
>- 阅读器(Reader)：天线、系统频率产生器、相位锁位回路、调制/解调电路、微处理器、存储器、外设接口；
>- 应用软件系统。
>基本工作原理：
>- 概述：Reader发射一特定频率的无线电波给电子标签，用以驱动电子标签内部电路，将内部的数据送出，此时Reader便依序接收解读数据，送给应用程序做相应的处理。
>- 电感耦合方式：电磁感应方式一般适合于中、低频工作的近距离射频识别系统。典型的工作频率有：125KHz、225KHz和13.56MHz。识别作用距离小于1m，典型作用距离为10～20cm
>- 电磁传播方式：电磁感应方式一般适合于中、低频工作的近距离射频识别系统。典型的工作频率有：125KHz、225KHz和13.56MHz。识别作用距离小于1m，典型作用距离为10～20cm

RFID芯片如果设计不良或没有受到保护，有很多手段可以获取芯片的结构和其中的数据，单纯依赖RFID本身的技术特性将无法满足RFID系统安全要求，RFID面临的安全威胁愈加严重。

### RFID系统面临的安全威胁

* 标签和阅读器组成的无线数据采集区域
>- RFID系统出现安全隐患的重要原因：对标签加解密需要耗用过多的处理器能力，会使标签增加额外的设计成本，使一些优秀的安全工具或方法无法嵌入到标签的硬件中
>- RFID安全认证协议可能存在的安全威胁包括标签的伪造、对标签的非法接入和篡改、通过空中无线接口的窃听、获取标签的有关信息以及对标签进行跟踪和监控。
* RFID系统通信中的安全问题
>![图片](https://uploader.shimo.im/f/SF6aJTtx8sgYyVW8.png!thumbnail?fileGuid=dQP9Rv3Q33XRrKD9)
>>- 数据隐匿性
>- 数据完整性
>- 数据真实性
>- 数据隐私性
### EPC协议安全性

>- RFID系统的安全性：电子标签芯片的物理安全技术、阅读器与标签间的安全通信、数据系统中对标签信息的管理。
>- 在EPC（Electronic Product Code）协议中，从标签中读取的信息是以明文方式传送的，会轻易向周围的攻击者泄漏标签中保存的信息。
### 现有的RFID安全机制

1. *物理安全机制*

kill命令机制：

* 基本原理

从物理上销毁RFID标签，一旦对标签实施了销毁命令，标签将不可再用。

* 特点
    * 该方法以牺牲RFID的性能为代价换取了隐私的保护，使得RFID的标签功能尽失，是不可逆的操作；
    * 由于销毁后的标签不再会有任何的应答，系统不能知道标签是否真正销毁掉了，仍可能危及消费者隐私。
2. *裁剪标签法：*
* 基本原理

IBM公司开发了一种“裁剪标签”技术，消费者能够将RFID天线扯掉或者刮除，缩短了标签的可读取范围，使标签不能被远端的阅读器随意读取；

* 特点

裁剪标签法弥补了Kill命令机制的短处，使得标签的读取距离缩短到1到2英寸，可以防止攻击者在远处非法的监听和跟踪标签。

### 现有的RFID保护机制

1. *静电屏蔽机制*
* 基本原理
    * 使用Faraday Cage（法拉第网罩）来屏蔽标签，使之不能接受阅读器的信号，以此来保护消费者个人隐私；
    * 根据电磁波屏蔽原理，采用金属丝网制成电磁波不能穿透的容器，用于放置带有RFID标签的物品；
* 特点

此方法是一种初级的物理方法，比较适用于体积小的RFID物品的隐私保护；

2. *主动干扰*
* 基本原理

使用一个设备持续不断的发送干扰信号，以干扰任何靠近标签的阅读器所发出的信号；

* 使用方法

标签持有者需随身携带一个可发出干扰信号的设备，进行主动干扰时打开设备；

* 特点

主动干扰时有可能在无意间破坏到其他正常合法的标签与阅读器之间的通信，若主动干扰设备所发送的干扰信号超过规定的频率使用范围还会带来法律上的问题；

### 安全认证协议

1. 轻量级安全认证协议——强认证强完整性协议

（Strong Authentication and Strong IntegritySASI）

>- 简介：
>SASI协议使用简单的异或、移位Rot和“或”操作，代替复杂的加密运算，大大地简化了标签的制作成本，满足了RFID系统低成本的设计要求；
>协议规定：在认证之前，阅读器和标签共享密钥K1、K2和假名IDS。假名IDS在认证的过程中用来替代标签的真实ID，且在认证的过程中不断更新；
>Rot(x，y)：该函数是一个非线性函数，是指将x的值循环左移(y mod N)位。
>- 流程
>![图片](https://uploader.shimo.im/f/CNH6cVY9AihvU6oa.png!thumbnail?fileGuid=dQP9Rv3Q33XRrKD9)
>Step1：Reader向Tag发送“Hello”请求认证；
>Step2：Tag向Reader发送假名IDS；
>Step3： Reader找到对应假名的密钥K1和K2，随机产生n1和n2，然后分别计算A、B、 (K_1) ̅ 、 (K_2) ̅ 和C，同时将A||B||C发送给Tag；
>Step4：标签从A、B中计算出n1和n2，再计算出K1、K2并得到C。比较接收到的C与计算出的C一致性，如果一致则完成Tag对Reader的认证，将D运算结果发送给Reader；
>Step5：Reader比较收到的D和计算的D，如果结果一致，则完成Reader对Tag的认证；
>Step6：更新IDS、K1、K2。 IDSnext=（IDS+D）⊕n2⊕(K1) ̅ ， K1next=(K_1) ̅ ，K2next=(K_2) ̅
2. 中量级认证协议——数字图书馆安全协议
>-流程:
>![图片](https://uploader.shimo.im/f/EUT4jO7FYokG5IN6.png!thumbnail?fileGuid=dQP9Rv3Q33XRrKD9)
>>1）阅读器向电子标签发送query消息以及阅读器产生的秘密随机数RR，请求认证；
>2）电子标签接到阅读器发送过来的请求消息后，自身生成一个随机数RT，结合标签自身的ID和秘密值k计算出 σ=ID⊕fs(0，RR，RT），完成后电子标签将（RT， σ ）一起发送给阅读器。
>3）阅读器电子标签发送过来的数据（RT，a）转发给后台应用系统。
>4）后台应用系统查找数据库存储的所有标签ID是否有一个存在IDj（1<=j<=n）满足IDj= σ ⊕ fs (1，RR，RT）成立，若有则认证通过，同时计算β =IDj⊕ fs (1，RR，RT）传输给阅读器。
>5）阅读器将 β 发送给电子标签，电子标签对收到的 β 进行验证，是否满足ID= β ⊕ID⊕ fs (1，RR，RT），若满足则认证成功。
>>- 目前各中量级安全协议的优缺点
>![图片](https://uploader.shimo.im/f/rpBAYCbrwWoBDWCw.png!thumbnail?fileGuid=dQP9Rv3Q33XRrKD9)
>3. 重量级认证协议——三通互相鉴别协议
>- 简介
>很多RFID系统都采用国际标准的ISO9798-2“三通互相鉴别”协议，该协议采用对称加密算法，阅读器和标签在通信中互相鉴别对方用密钥保护的ID，属于一种双向认证协议。
>- 流程
>![图片](https://uploader.shimo.im/f/KPSABzokT2FFPPhl.png!thumbnail?fileGuid=dQP9Rv3Q33XRrKD9)
>1. 阅读器发送Request认证请求至标签；
>2. 标签生成一个随机数Rt，发送给阅读器；
>3. 阅读器生成一个随机数Rr，用对称密钥k与Rt加密成Ek(Rt||Rr||Idr)，发送给标签；
>4. 标签使用密钥k解密得到Rr和Rt，检测与之前产生的Rt是否一致，一致则认证成功；标签再生成随机数Rt2，加密后得到Ek(Rr||Rt2||M），M是要发送的数据；
>5. 阅读器收到后解密得到Rr，若Rr前后一致则完成对标签的认证；
>- 身份&映像完整性校验认证协议设计
>![图片](https://uploader.shimo.im/f/AZRFPCx67yHE4WzO.png!thumbnail?fileGuid=dQP9Rv3Q33XRrKD9)
>（详情见第六讲PPT 66-69页）
4. 三类协议比较
* 重量级认证协议由于采用比较成熟的加密手段，标签的成本很难降低，所以往往使用在安全性要求性较高的军事、安全和金融领域；
* 轻量级认证协议则主要考虑系统的成本，安全性较差，主要使用在商品零售和物流领域；
* 中量级认证协议的安全性和复杂性介于重量级和轻量级协议之间，其兼顾了安全性和成本的需求，具有更强的灵活性和适用性，因此将成为RFID应用系统的首选。
### RFID系统防护策略

* RFID是系统工程，其安全不仅涉及技术，同时也涉及管理；
    * 相应安全策略需要明确RFID相关网络、数据库和应用程序的安全使用；
    * 部署RFID标签时要充分考虑有安全防护环境，安全正确部署阅读器和标签，并且只有具有授权的人才可以接触和访问RFID系统；
    * 除了必要信息以外，在标签中尽量不要出现敏感信息。
    * 作为管理的关键，就是要有效培训操作员和管理员的安全操作意识和安全操作技能，尽量避免人为的安全隐患。
* RFID存在产品种类繁多，应用模式多样等现象，也一定程度上导致了RFID安全隐患，有必要统一和规范RFID产品和应用，特别是RFID安全方面的标准。
## 6、路由层安全技术

>总结里没有，就不写了。PPT第六讲72-85页

# 第七讲 新型网络安全-可信网络

### 1.可信计算的软件架构；

* TCG（TrustedComputing Group，可信计算组织）

整个体系包括：TPM（可信平台模块）、TSS（TCG Software Stack ）和应用软件；

* TSS-作可信软件栈：位于TPM和应用软件之间，提供应用程序访问TPM的接口，同时对TPM的管理；

**可信计算平台是以 TPM 芯片为核心，整个软件体系框架主要分为三层：**

**低层 TPM 及其设备驱动、**

**中间层可信软件堆栈 TSS（Trusted Software Stack）**

**上层提供本地应用的服务层。**

TSS 负责提供应用程序访问 TPM 的接口，同时进行对 TPM 的管理。其中核心服务层 TCS 提供一组标准平台服务的 API 接口。核心服务包括(1)上下文管理； (2）证书和密钥的管理； (3)度量事件管理； (4)参数块的产生等。在用户模式下的本地应用服务层中主要有服务提 供层 TSP，它能够提供上下文管理和密码操作两种核心服务，可充分利用 TPM 芯片的功能。 完整的 TCP 体系结构如图 2 所示

![图片](https://uploader.shimo.im/f/5H93GXcEMy69Wc6r.png!thumbnail?fileGuid=dQP9Rv3Q33XRrKD9)



### 2.可信计算的核心思想；

**可信计算的概念：**

一个实体在实现给定目标时，若其行为总是如同预期，则该实体是可信的。可信强调行为结果可预期，但并不等于行为是安全的。

**信任根：**

* 可信度量根：负责对平台进行度量；
* 可信存储根：负责密钥等的存储；
* 可信报告根：将度量的结果与日志反馈给挑战者，挑战者在收到度量结果与度量日志后可进行重新计算并与预期做对比，进而验证平台是否可信

**信任链：**

* 将信息处理过程分为E1，…，En个阶段，构成一个链条，逐级单向传递；信任传递过程中，必须先度量再传递；
* 信任链具有单向传递的特性；

**核心思想：**

* 通过增强现有终端体系结构的安全性来保证整个系统的安全，通过在各种终端（包含PC,手机以及其它移动智能终端等）硬件平台上引入可信架构，提高终端系统的安全性。
* 终端可信的核心是TPM (Trusted Platform Module)芯片；
### 3.TPM（芯片）的主要构成；

可信平台模块（Trusted Platform Module），是一种植于计算机内部为计算机提供可信根的芯片	。该芯片的规格由可信计算组织（Trusted Computing Group）来制定。能够存储密钥、摘要等信息，并且具备计算能力。

**PCR寄存器（平台状态寄存器）**：

* 平台状态寄存器用来记录系统运行状态的寄存器；
* TCG规范要求至少有16个寄存器（TCG 1.1规范）；
* TCG 1.2规范中引进了8个额外的平台状态寄存器用于实现动态可信度量；
* 平台状态信息的SHA-1散列值存储在平台状态寄存器中，平台状态寄存器就能够代表机器的运行状态
* 平台状态寄存器位于TPM内部，其内部数据受到TPM保护
#### 什么是可信网络

网络系统行为及其结果可预期、行为状态可监测、行为结果可评估、异常行为可控制

#### 可信网络的科学问题

* 网络与用户行为的可信模型；
* 可信网络的体系结构
* 服务的可生存性；
* 网络的可控性
### 4.TNC的基本架构

TNC ( Trusted Network Connect)即可信网络连接，为TCG（TrustedComputing Group）中的一个分支，专门负责网络终端入网的可信任务。在传统的网络接入层上增加了两层，实现了平台间的完整性验证，从而满足可信性、完整性和安全性**；**

TNC的结构，主要包括三个实体、三个层次和若干个接口组件等。：

![图片](https://uploader.shimo.im/f/4w5oAHoSYsl1G0HR.png!thumbnail?fileGuid=dQP9Rv3Q33XRrKD9)

三个实体

(1).接入请求者（Access Requester-AR）：指运行于接入端点设备上的各种安全组件，用于完成端点设备各种安全状态信息的收集和提交接入认证请求。

(2).策略执行者（Policy EnforcementPoint-PEP）：指完成端点设备接入网络的各种接入设备，包括802.1x的交换机、防火墙、VPN网关等。主要完成接受端点接入请求信息，转发端点安全状态信息给后台策略服务器，并执行策略服务器下发的安全接入策略。

(3). 策略决策者（Policy DecisionPoint-PDP）：指安全策略服务器，主要根据接入请求设备提交的安全状态信息执行平台完整性认证，并根据策略对其进行授权。

三个层次：

(a)网络访问层（Network Access Layer）：这一层用于支持传统的网络连接技术，如 802.1X,VPN,AAA Server 等机制。在这一层里面有三个实体：NAR、PEP 和 PDP。

(b)完整性评估层（Integrity Evaluation Layer ）：负责评估所有请求访问网络的 实体的完整性。这一层和上层有两个重要的接口：IF-IMC(Integrity Measurement Collector Interface)和IF-IMV (Integrity Measurement Verifier Interface)。其中，IF-IMV是IMC 同TNCC 之间的接口。该接口的主要功能是从IMC 收集完整性测量值，并支持IMC 同IMV 之 间的信息流动；：IF-IMV是IMV和TNCS 之间的接口。该接口的主要功能是将从IMC 得到的完 整性测量值传递给IMV，支持IMC 同IMV 之间的信息流动，将IMV 所做出的访问决定传递给 TNCS。

(c)完整性度量层（Integrity Measurement Layer）：收集和校验请求访问者的完整性相关信息的组件。



### 5.MTD（移动目标防御）的基本思想；

>我们使用的系统是确定性的，同构的和静态的，由于漏洞窗口不变，因此攻击者可以利用这一点得到回报。只要漏洞持续存在，攻击者就可以部署攻击并取得成功。移动目标（MT）策略旨在通过以降低确定性，同质性和静态性的方式来部署和操作网络和系统，从而大幅提高攻击成本。

通过创建、分析、评估和布署多样化的机制和策略，并且保持不断变化，从而增加攻击开销，降低系统脆弱性曝光和被攻击的几率，提高系统弹性

一句话来说：MTD（Moving Target Defense）**通过动态改变攻击面，提升攻击者的攻击代价，达到动态防御的目的**

>详细来说：攻击面动态转移技术分类
>* 数据攻击面
>* 数据随机化
>* 数据多样化
>* 代码攻击面
>* 地址空间随机化
>* 指令集随机化
>* 代码随机化
>* 软件多态化
>* 基础设置攻击面
>* 平台迁移
>* 虚拟化
>* Web应用动态防御
>* 移动平台动态防御
>* 网络通信攻击面
>* 动态网络架构
>* 网络地址随机化
>* 通信端口跳变
### 6.拟态防御基本原理

“非相似余度构造”(Dissimilar Redundancy Structure, DRS)

